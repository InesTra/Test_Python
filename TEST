#1.  sma algorithme

data=[22.81, 23.09 , 22.91 , 23.23 ,22.83, 23.05, 23.02 ,23.29, 23.41,23.49,24.60,24.63,24.51,23.73,23.31,23.53,23.06,23.25,23.12,22.80,22.84] 

def sma_algo(data,window):
	weights=np.repeat(1.0,window)
	sma=np.convolve(data,weights/window,'valid')
	print(sma)

sma_algo(data,9)

#2 Import data

with urllib.request.urlopen("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=MSFT&apikey=demo)") as url:
    data = json.loads(url.read().decode())
    print(data)

#3 Calculate Average Price

def average_price(date):

    high=data['Time Series (Daily)'][date]['2. high']
    low=data['Time Series (Daily)'][date]['3. low']
    average_price=(float(high)+float(low))/2
    print(average_price)
    
 #4 Calculate SMA values of 5 day  based on daily average prices
 
data=data['Time Series (Daily)']
df = pd.DataFrame(data).T
#rename columns
df = df.rename(columns={'2. high':'Hight','3. low':'Low'})
#change data type
df['Hight']=df['Hight'].astype(float)
df['Low']=df['Low'].astype(float)
df['Averge Price']=(df['Hight'] + df['Low'])/2
df['SMA']=0
print(df)
#5 Calculate the profit
